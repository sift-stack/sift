# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: sift/calculated_channels/v2/calculated_channels.proto
# plugin: python-betterproto2
# This file has been @generated

__all__ = (
    "BatchResolveCalculatedChannelsRequest",
    "BatchResolveCalculatedChannelsResponse",
    "CalculatedChannel",
    "CalculatedChannelAbstractChannelReference",
    "CalculatedChannelAssetConfiguration",
    "CalculatedChannelAssetConfigurationAssetSelection",
    "CalculatedChannelConfiguration",
    "CalculatedChannelQueryConfiguration",
    "CalculatedChannelQueryConfigurationSel",
    "CalculatedChannelValidationResult",
    "CreateCalculatedChannelRequest",
    "CreateCalculatedChannelResponse",
    "GetCalculatedChannelRequest",
    "GetCalculatedChannelResponse",
    "ListCalculatedChannelsRequest",
    "ListCalculatedChannelsResponse",
    "ListCalculatedChannelVersionsRequest",
    "ListCalculatedChannelVersionsResponse",
    "ResolveCalculatedChannelRequest",
    "ResolveCalculatedChannelResponse",
    "ResolveCalculatedChannelResponseResolvedCalculatedChannel",
    "ResolveCalculatedChannelResponseUnresolvedCalculatedChannel",
    "UpdateCalculatedChannelRequest",
    "UpdateCalculatedChannelResponse",
    "CalculatedChannelServiceStub",
    "CalculatedChannelServiceBase",
)

import datetime
from dataclasses import dataclass
from typing import TYPE_CHECKING

import betterproto2
import grpc
import grpclib
from betterproto2.grpc.grpclib_server import ServiceBase

from ....message_pool import default_message_pool

if TYPE_CHECKING:
    import grpclib.server
    from betterproto2.grpc.grpclib_client import MetadataLike
    from grpclib.metadata import Deadline

betterproto2.check_compiler_version("0.4.0")


@dataclass(eq=False, repr=False)
class BatchResolveCalculatedChannelsRequest(betterproto2.Message):
    """
    The request of a call to `CalculatedChannelService_BatchResolveCalculatedChannels`.
    """

    requests: "list[ResolveCalculatedChannelRequest]" = betterproto2.field(
        1, betterproto2.TYPE_MESSAGE, repeated=True
    )
    """
    All calculated channels to resolve.
    """


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "BatchResolveCalculatedChannelsRequest",
    BatchResolveCalculatedChannelsRequest,
)


@dataclass(eq=False, repr=False)
class BatchResolveCalculatedChannelsResponse(betterproto2.Message):
    """
    The response of a call to `CalculatedChannelService_BatchResolveCalculatedChannels`.
    """

    responses: "list[ResolveCalculatedChannelResponse]" = betterproto2.field(
        1, betterproto2.TYPE_MESSAGE, repeated=True
    )
    """
    All calculated channels that attempted resolution.
    """


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "BatchResolveCalculatedChannelsResponse",
    BatchResolveCalculatedChannelsResponse,
)


@dataclass(eq=False, repr=False)
class CalculatedChannel(betterproto2.Message):
    calculated_channel_id: "str" = betterproto2.field(1, betterproto2.TYPE_STRING)

    organization_id: "str" = betterproto2.field(2, betterproto2.TYPE_STRING)

    client_key: "str | None" = betterproto2.field(
        3, betterproto2.TYPE_STRING, optional=True
    )

    archived_date: "datetime.datetime | None" = betterproto2.field(
        4, betterproto2.TYPE_MESSAGE, optional=True
    )

    version_id: "str" = betterproto2.field(5, betterproto2.TYPE_STRING)

    version: "int" = betterproto2.field(6, betterproto2.TYPE_UINT32)

    name: "str" = betterproto2.field(7, betterproto2.TYPE_STRING)

    description: "str" = betterproto2.field(8, betterproto2.TYPE_STRING)

    change_message: "str" = betterproto2.field(9, betterproto2.TYPE_STRING)

    user_notes: "str" = betterproto2.field(10, betterproto2.TYPE_STRING)

    units: "str | None" = betterproto2.field(
        18, betterproto2.TYPE_STRING, optional=True
    )

    created_date: "datetime.datetime | None" = betterproto2.field(
        11, betterproto2.TYPE_MESSAGE, optional=True
    )

    modified_date: "datetime.datetime | None" = betterproto2.field(
        12, betterproto2.TYPE_MESSAGE, optional=True
    )

    calculated_channel_configuration: "CalculatedChannelConfiguration | None" = (
        betterproto2.field(15, betterproto2.TYPE_MESSAGE, optional=True)
    )

    created_by_user_id: "str" = betterproto2.field(16, betterproto2.TYPE_STRING)

    modified_by_user_id: "str" = betterproto2.field(17, betterproto2.TYPE_STRING)


default_message_pool.register_message(
    "sift.calculated_channels.v2", "CalculatedChannel", CalculatedChannel
)


@dataclass(eq=False, repr=False)
class CalculatedChannelAbstractChannelReference(betterproto2.Message):
    channel_reference: "str" = betterproto2.field(1, betterproto2.TYPE_STRING)

    channel_identifier: "str" = betterproto2.field(2, betterproto2.TYPE_STRING)


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "CalculatedChannelAbstractChannelReference",
    CalculatedChannelAbstractChannelReference,
)


@dataclass(eq=False, repr=False)
class CalculatedChannelAssetConfiguration(betterproto2.Message):
    """


    Oneofs:
        - asset_scope:
    """

    all_assets: "bool | None" = betterproto2.field(
        1, betterproto2.TYPE_BOOL, optional=True, group="asset_scope"
    )

    selection: "CalculatedChannelAssetConfigurationAssetSelection | None" = (
        betterproto2.field(
            2, betterproto2.TYPE_MESSAGE, optional=True, group="asset_scope"
        )
    )


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "CalculatedChannelAssetConfiguration",
    CalculatedChannelAssetConfiguration,
)


@dataclass(eq=False, repr=False)
class CalculatedChannelAssetConfigurationAssetSelection(betterproto2.Message):
    asset_ids: "list[str]" = betterproto2.field(
        1, betterproto2.TYPE_STRING, repeated=True
    )

    tag_ids: "list[str]" = betterproto2.field(
        2, betterproto2.TYPE_STRING, repeated=True
    )


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "CalculatedChannelAssetConfiguration.AssetSelection",
    CalculatedChannelAssetConfigurationAssetSelection,
)


@dataclass(eq=False, repr=False)
class CalculatedChannelConfiguration(betterproto2.Message):
    asset_configuration: "CalculatedChannelAssetConfiguration | None" = (
        betterproto2.field(1, betterproto2.TYPE_MESSAGE, optional=True)
    )

    query_configuration: "CalculatedChannelQueryConfiguration | None" = (
        betterproto2.field(2, betterproto2.TYPE_MESSAGE, optional=True)
    )


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "CalculatedChannelConfiguration",
    CalculatedChannelConfiguration,
)


@dataclass(eq=False, repr=False)
class CalculatedChannelQueryConfiguration(betterproto2.Message):
    """


    Oneofs:
        - query:
    """

    sel: "CalculatedChannelQueryConfigurationSel | None" = betterproto2.field(
        1, betterproto2.TYPE_MESSAGE, optional=True, group="query"
    )


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "CalculatedChannelQueryConfiguration",
    CalculatedChannelQueryConfiguration,
)


@dataclass(eq=False, repr=False)
class CalculatedChannelQueryConfigurationSel(betterproto2.Message):
    """
    Sift Expression Language.
    """

    expression: "str" = betterproto2.field(1, betterproto2.TYPE_STRING)

    expression_channel_references: "list[CalculatedChannelAbstractChannelReference]" = (
        betterproto2.field(2, betterproto2.TYPE_MESSAGE, repeated=True)
    )


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "CalculatedChannelQueryConfiguration.Sel",
    CalculatedChannelQueryConfigurationSel,
)


@dataclass(eq=False, repr=False)
class CalculatedChannelValidationResult(betterproto2.Message):
    asset_id: "str" = betterproto2.field(1, betterproto2.TYPE_STRING)

    asset_name: "str | None" = betterproto2.field(
        2, betterproto2.TYPE_STRING, optional=True
    )
    """
    Only included if asset was named in the request
    """

    tag_names: "list[str]" = betterproto2.field(
        3, betterproto2.TYPE_STRING, repeated=True
    )
    """
    Includes all tags that have this asset
    """

    missing_channels: "list[str]" = betterproto2.field(
        4, betterproto2.TYPE_STRING, repeated=True
    )
    """
    Names of the channels that asset does not have
    """


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "CalculatedChannelValidationResult",
    CalculatedChannelValidationResult,
)


@dataclass(eq=False, repr=False)
class CreateCalculatedChannelRequest(betterproto2.Message):
    name: "str" = betterproto2.field(1, betterproto2.TYPE_STRING)

    description: "str" = betterproto2.field(2, betterproto2.TYPE_STRING)

    user_notes: "str" = betterproto2.field(3, betterproto2.TYPE_STRING)

    units: "str | None" = betterproto2.field(7, betterproto2.TYPE_STRING, optional=True)

    client_key: "str | None" = betterproto2.field(
        4, betterproto2.TYPE_STRING, optional=True
    )

    calculated_channel_configuration: "CalculatedChannelConfiguration | None" = (
        betterproto2.field(5, betterproto2.TYPE_MESSAGE, optional=True)
    )


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "CreateCalculatedChannelRequest",
    CreateCalculatedChannelRequest,
)


@dataclass(eq=False, repr=False)
class CreateCalculatedChannelResponse(betterproto2.Message):
    calculated_channel: "CalculatedChannel | None" = betterproto2.field(
        1, betterproto2.TYPE_MESSAGE, optional=True
    )

    inapplicable_assets: "list[CalculatedChannelValidationResult]" = betterproto2.field(
        2, betterproto2.TYPE_MESSAGE, repeated=True
    )


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "CreateCalculatedChannelResponse",
    CreateCalculatedChannelResponse,
)


@dataclass(eq=False, repr=False)
class GetCalculatedChannelRequest(betterproto2.Message):
    """
    The request for a call to `CalculatedChannelService_GetCalculatedChannel` to retrieve the latest version of a calculated channel.
    If `calculated_channel_id` is provided then all other arguments will be ignored. The argument `calculated_channel_id`
    should not be used together with `client_key`. The `organization_id` argument is only required
    if using `client_key` and the user belongs to multiple organizations.
    """

    calculated_channel_id: "str" = betterproto2.field(1, betterproto2.TYPE_STRING)

    client_key: "str" = betterproto2.field(2, betterproto2.TYPE_STRING)

    organization_id: "str" = betterproto2.field(3, betterproto2.TYPE_STRING)


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "GetCalculatedChannelRequest",
    GetCalculatedChannelRequest,
)


@dataclass(eq=False, repr=False)
class GetCalculatedChannelResponse(betterproto2.Message):
    calculated_channel: "CalculatedChannel | None" = betterproto2.field(
        1, betterproto2.TYPE_MESSAGE, optional=True
    )


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "GetCalculatedChannelResponse",
    GetCalculatedChannelResponse,
)


@dataclass(eq=False, repr=False)
class ListCalculatedChannelsRequest(betterproto2.Message):
    """
    The request for a call to `CalculatedChannelService_ListCalculatedChannels` to retrieve latest versions of calculated channels.
    """

    page_size: "int" = betterproto2.field(1, betterproto2.TYPE_UINT32)
    """
    The maximum number of calculated channels to return. The service may return fewer than this value.
    If unspecified, at most 50 calculated channels will be returned. The maximum value is 1000; values above
    1000 will be coerced to 1000. Optional.
    """

    page_token: "str" = betterproto2.field(2, betterproto2.TYPE_STRING)
    """
    A page token, received from a previous `ListCalculatedChannels` call.
    Provide this to retrieve the subsequent page.
    When paginating, all other parameters provided to `ListCalculatedChannels` must match
    the call that provided the page token. Optional.
    """

    filter: "str" = betterproto2.field(3, betterproto2.TYPE_STRING)
    """
    A [Common Expression Language (CEL)](https://github.com/google/cel-spec) filter string.
    Available fields to filter by are `calculated_channel_id`, `client_key`, `name`, `asset_id`, `asset_name`, `tag_id`, `tag_name`, `version`, and `archived_date.
    For further information about how to use CELs, please refer to [this guide](https://github.com/google/cel-spec/blob/master/doc/langdef.md#standard-definitions).
    For more information about the fields used for filtering, please refer to [this definition](/docs/api/grpc/protocol-buffers/calculated_channels#calculated_channel). Optional.
    """

    organization_id: "str" = betterproto2.field(4, betterproto2.TYPE_STRING)
    """
    This field is only required if your user belongs to multiple organizations.
    """

    order_by: "str" = betterproto2.field(5, betterproto2.TYPE_STRING)
    """
    How to order the retrieved calculated channels. Formatted as a comma-separated string i.e. "FIELD_NAME[ desc],...".
    Available fields to order_by are `created_date` and `modified_date`.
    If left empty, items are ordered by `created_date` in ascending order (oldest-first).
    For more information about the format of this field, read [this](https://google.aip.dev/132#ordering)
    Example: "created_date desc,modified_date"
    """


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "ListCalculatedChannelsRequest",
    ListCalculatedChannelsRequest,
)


@dataclass(eq=False, repr=False)
class ListCalculatedChannelsResponse(betterproto2.Message):
    """
    The response of a call to `CalculatedChannelService_ListCalculatedChannels`.
    """

    calculated_channels: "list[CalculatedChannel]" = betterproto2.field(
        1, betterproto2.TYPE_MESSAGE, repeated=True
    )

    next_page_token: "str" = betterproto2.field(2, betterproto2.TYPE_STRING)


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "ListCalculatedChannelsResponse",
    ListCalculatedChannelsResponse,
)


@dataclass(eq=False, repr=False)
class ListCalculatedChannelVersionsRequest(betterproto2.Message):
    """
    The request for a call to `CalculatedChannelService_ListCalculatedChannelVersions` to retrieve versions
    of a particular calculated channel. If `calculated_channel_id` is provided then `client_key` is ignored.
    """

    calculated_channel_id: "str" = betterproto2.field(1, betterproto2.TYPE_STRING)

    client_key: "str" = betterproto2.field(2, betterproto2.TYPE_STRING)

    page_size: "int" = betterproto2.field(3, betterproto2.TYPE_UINT32)
    """
    The maximum number of calculated channel versions to return. The service may return fewer than this value.
    If unspecified, at most 50 calculated channels will be returned. The maximum value is 1000; values above
    1000 will be coerced to 1000. Optional.
    """

    page_token: "str" = betterproto2.field(4, betterproto2.TYPE_STRING)
    """
    A page token, received from a previous `ListCalculatedChannelVersions` call.
    Provide this to retrieve the subsequent page.
    When paginating, all other parameters provided to `ListCalculatedChannelVersions` must match
    the call that provided the page token. Optional.
    """

    filter: "str" = betterproto2.field(5, betterproto2.TYPE_STRING)
    """
    A [Common Expression Language (CEL)](https://github.com/google/cel-spec) filter string.
    Available fields to filter by are `calculated_channel_id`, `client_key`, `name`, `asset_id`, `asset_name`, `tag_id`, `tag_name`, `version`, and `archived_date.
    For further information about how to use CELs, please refer to [this guide](https://github.com/google/cel-spec/blob/master/doc/langdef.md#standard-definitions).
    For more information about the fields used for filtering, please refer to [this definition](/docs/api/grpc/protocol-buffers/calculated_channels#calculated_channel). Optional.
    """

    organization_id: "str" = betterproto2.field(6, betterproto2.TYPE_STRING)
    """
    This field is only required if your user belongs to multiple organizations.
    """

    order_by: "str" = betterproto2.field(7, betterproto2.TYPE_STRING)
    """
    How to order the retrieved calculated channel versions. Formatted as a comma-separated string i.e. "FIELD_NAME[ desc],...".
    Available fields to order_by are `created_date`, `modified_date`, and `version`.
    If left empty, items are ordered by `created_date` in ascending order (oldest-first).
    For more information about the format of this field, read [this](https://google.aip.dev/132#ordering)
    Example: "created_date desc,modified_date".
    """


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "ListCalculatedChannelVersionsRequest",
    ListCalculatedChannelVersionsRequest,
)


@dataclass(eq=False, repr=False)
class ListCalculatedChannelVersionsResponse(betterproto2.Message):
    """
    The response of a call to `CalculatedChannelService_ListCalculatedChannelVersions`.
    """

    calculated_channel_versions: "list[CalculatedChannel]" = betterproto2.field(
        1, betterproto2.TYPE_MESSAGE, repeated=True
    )

    next_page_token: "str" = betterproto2.field(2, betterproto2.TYPE_STRING)


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "ListCalculatedChannelVersionsResponse",
    ListCalculatedChannelVersionsResponse,
)


@dataclass(eq=False, repr=False)
class ResolveCalculatedChannelRequest(betterproto2.Message):
    """
    The request for a call to `CalculatedChannelService_ResolveCalculatedChannel` to get the all possible calculated channels.
    1) If the calculated channel has a selection of assets and tags then those assets will be used as a base and then filtered down by the given assets and assets from the run.
    2) If the calculated channel is enabled for all assets then:
      a) If the request has run and assets from the run will be used as a base and then filtered down by the given assets.
      b) If the request has run and no assets then those assets will be used.
      c) If the request has only assets then those assets will be used.
    The `organization_id` argument is only required if using `client_key` and the user belongs to multiple organizations.

    Oneofs:
        - calculated_channel:
    """

    identifier: "__common__type__v1__.ResourceIdentifier | None" = betterproto2.field(
        1, betterproto2.TYPE_MESSAGE, optional=True, group="calculated_channel"
    )
    """
    The calculated channel to resolve.
    """

    calculated_channel_configuration: "CalculatedChannelConfiguration | None" = (
        betterproto2.field(
            2, betterproto2.TYPE_MESSAGE, optional=True, group="calculated_channel"
        )
    )
    """
    A configuration for the calculated channel to resolve.
    """

    organization_id: "str" = betterproto2.field(3, betterproto2.TYPE_STRING)
    """
    This field is only required if your user belongs to multiple organizations.
    """

    assets: "__common__type__v1__.NamedResources | None" = betterproto2.field(
        4, betterproto2.TYPE_MESSAGE, optional=True
    )
    """
    Assets to be included or filtered through.  See above.
    """

    run: "__common__type__v1__.ResourceIdentifier | None" = betterproto2.field(
        5, betterproto2.TYPE_MESSAGE, optional=True
    )
    """
    Run to get assets to be included or filtered through.  See above.
    """


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "ResolveCalculatedChannelRequest",
    ResolveCalculatedChannelRequest,
)


@dataclass(eq=False, repr=False)
class ResolveCalculatedChannelResponse(betterproto2.Message):
    """
    The response of a call to `CalculatedChannelService_ResolveCalculatedChannel`.
    """

    calculated_channel_id: "str | None" = betterproto2.field(
        1, betterproto2.TYPE_STRING, optional=True
    )
    """
    If provided in the request, the calculated channel resolved.
    """

    resolved: "list[ResolveCalculatedChannelResponseResolvedCalculatedChannel]" = (
        betterproto2.field(2, betterproto2.TYPE_MESSAGE, repeated=True)
    )
    """
    All resolved calculated channels.
    """

    unresolved: "list[ResolveCalculatedChannelResponseUnresolvedCalculatedChannel]" = (
        betterproto2.field(3, betterproto2.TYPE_MESSAGE, repeated=True)
    )
    """
    All assets with any issues in resolution.
    """


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "ResolveCalculatedChannelResponse",
    ResolveCalculatedChannelResponse,
)


@dataclass(eq=False, repr=False)
class ResolveCalculatedChannelResponseResolvedCalculatedChannel(betterproto2.Message):
    """
    A specific calculated channel including the asset and exact channels to query.
    """

    asset_name: "str" = betterproto2.field(1, betterproto2.TYPE_STRING)
    """
    The name of the specific asset that was resolved.
    """

    expression_request: "_v1__.ExpressionRequest | None" = betterproto2.field(
        2, betterproto2.TYPE_MESSAGE, optional=True
    )
    """
    The expression resolved including channel references.
    """

    output_data_type: "__common__type__v1__.ChannelDataType" = betterproto2.field(
        3,
        betterproto2.TYPE_ENUM,
        default_factory=lambda: __common__type__v1__.ChannelDataType(0),
    )


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "ResolveCalculatedChannelResponse.ResolvedCalculatedChannel",
    ResolveCalculatedChannelResponseResolvedCalculatedChannel,
)


@dataclass(eq=False, repr=False)
class ResolveCalculatedChannelResponseUnresolvedCalculatedChannel(betterproto2.Message):
    """
    Any failure in resolution.
    """

    asset_name: "str" = betterproto2.field(1, betterproto2.TYPE_STRING)
    """
    The name of the specific asset that was not resolved.
    """

    error_message: "str" = betterproto2.field(2, betterproto2.TYPE_STRING)


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "ResolveCalculatedChannelResponse.UnresolvedCalculatedChannel",
    ResolveCalculatedChannelResponseUnresolvedCalculatedChannel,
)


@dataclass(eq=False, repr=False)
class UpdateCalculatedChannelRequest(betterproto2.Message):
    """
    The request for a call to `CalculatedChannelService_UpdateCalculatedChannel` to update a calculated channel. Updating a calculated
    channel creates a new version of the calculated channel, leaving the previous untouched. If no update is deemed necessary, then the
    the current version is returned. To archive calculated channel, specify `archived_date` in the `update mask` as well as a non-null
    value for `archived_date` in the `calculated_channel` object. To unarchive a calculated channel, specify `archived_date` in the
    `update mask` and a `null` value for `archived_date` in the `calculated_channel` object.
    """

    calculated_channel: "CalculatedChannel | None" = betterproto2.field(
        1, betterproto2.TYPE_MESSAGE, optional=True
    )
    """
    The calculated channel to update.
    """

    update_mask: "___google__protobuf__.FieldMask | None" = betterproto2.field(
        2, betterproto2.TYPE_MESSAGE, optional=True
    )
    """
    The list of fields to be updated. The fields available to be updated are `name`, `description`, `units`,
    `query_configuration`, `archived_date`, and `asset_configuration`.
    """

    user_notes: "str | None" = betterproto2.field(
        3, betterproto2.TYPE_STRING, optional=True
    )
    """
    Optional user notes to describe changes.
    """


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "UpdateCalculatedChannelRequest",
    UpdateCalculatedChannelRequest,
)


@dataclass(eq=False, repr=False)
class UpdateCalculatedChannelResponse(betterproto2.Message):
    """
    The response of a call to `CalculatedChannelService_UpdateCalculatedChannel`.
    """

    calculated_channel: "CalculatedChannel | None" = betterproto2.field(
        1, betterproto2.TYPE_MESSAGE, optional=True
    )

    inapplicable_assets: "list[CalculatedChannelValidationResult]" = betterproto2.field(
        2, betterproto2.TYPE_MESSAGE, repeated=True
    )


default_message_pool.register_message(
    "sift.calculated_channels.v2",
    "UpdateCalculatedChannelResponse",
    UpdateCalculatedChannelResponse,
)


class CalculatedChannelServiceStub:
    def __init__(self, channel: grpc.Channel):
        self._channel = channel

    def get_calculated_channel(
        self, message: "GetCalculatedChannelRequest"
    ) -> "GetCalculatedChannelResponse":
        """
        Retrieve the latest version of a calculated channel
        """

        return self._channel.unary_unary(
            "/sift.calculated_channels.v2.CalculatedChannelService/GetCalculatedChannel",
            GetCalculatedChannelRequest.SerializeToString,
            GetCalculatedChannelResponse.FromString,
        )(message)

    def create_calculated_channel(
        self, message: "CreateCalculatedChannelRequest"
    ) -> "CreateCalculatedChannelResponse":
        """
        Create a calculated channel.
        """

        return self._channel.unary_unary(
            "/sift.calculated_channels.v2.CalculatedChannelService/CreateCalculatedChannel",
            CreateCalculatedChannelRequest.SerializeToString,
            CreateCalculatedChannelResponse.FromString,
        )(message)

    def list_calculated_channels(
        self, message: "ListCalculatedChannelsRequest"
    ) -> "ListCalculatedChannelsResponse":
        """
        Retrieve the latest versions of calculated channels based on an optional filter.
        """

        return self._channel.unary_unary(
            "/sift.calculated_channels.v2.CalculatedChannelService/ListCalculatedChannels",
            ListCalculatedChannelsRequest.SerializeToString,
            ListCalculatedChannelsResponse.FromString,
        )(message)

    def update_calculated_channel(
        self, message: "UpdateCalculatedChannelRequest"
    ) -> "UpdateCalculatedChannelResponse":
        """
        Update and create a new version of a calculated channel.
        """

        return self._channel.unary_unary(
            "/sift.calculated_channels.v2.CalculatedChannelService/UpdateCalculatedChannel",
            UpdateCalculatedChannelRequest.SerializeToString,
            UpdateCalculatedChannelResponse.FromString,
        )(message)

    def list_calculated_channel_versions(
        self, message: "ListCalculatedChannelVersionsRequest"
    ) -> "ListCalculatedChannelVersionsResponse":
        """
        List versions of a particular calculated channel with an optional filter.
        """

        return self._channel.unary_unary(
            "/sift.calculated_channels.v2.CalculatedChannelService/ListCalculatedChannelVersions",
            ListCalculatedChannelVersionsRequest.SerializeToString,
            ListCalculatedChannelVersionsResponse.FromString,
        )(message)

    def resolve_calculated_channel(
        self, message: "ResolveCalculatedChannelRequest"
    ) -> "ResolveCalculatedChannelResponse":
        """
        Resolve a calculated channel into an expression with references.
        """

        return self._channel.unary_unary(
            "/sift.calculated_channels.v2.CalculatedChannelService/ResolveCalculatedChannel",
            ResolveCalculatedChannelRequest.SerializeToString,
            ResolveCalculatedChannelResponse.FromString,
        )(message)

    def batch_resolve_calculated_channels(
        self, message: "BatchResolveCalculatedChannelsRequest"
    ) -> "BatchResolveCalculatedChannelsResponse":
        """
        Resolve a batch of calculated channels into expressions with references.
        """

        return self._channel.unary_unary(
            "/sift.calculated_channels.v2.CalculatedChannelService/BatchResolveCalculatedChannels",
            BatchResolveCalculatedChannelsRequest.SerializeToString,
            BatchResolveCalculatedChannelsResponse.FromString,
        )(message)


class CalculatedChannelServiceAsyncStub(betterproto2.ServiceStub):
    async def get_calculated_channel(
        self,
        message: "GetCalculatedChannelRequest",
        *,
        timeout: "float | None" = None,
        deadline: "Deadline | None" = None,
        metadata: "MetadataLike | None" = None,
    ) -> "GetCalculatedChannelResponse":
        """
        Retrieve the latest version of a calculated channel
        """

        return await self._unary_unary(
            "/sift.calculated_channels.v2.CalculatedChannelService/GetCalculatedChannel",
            message,
            GetCalculatedChannelResponse,
            timeout=timeout,
            deadline=deadline,
            metadata=metadata,
        )

    async def create_calculated_channel(
        self,
        message: "CreateCalculatedChannelRequest",
        *,
        timeout: "float | None" = None,
        deadline: "Deadline | None" = None,
        metadata: "MetadataLike | None" = None,
    ) -> "CreateCalculatedChannelResponse":
        """
        Create a calculated channel.
        """

        return await self._unary_unary(
            "/sift.calculated_channels.v2.CalculatedChannelService/CreateCalculatedChannel",
            message,
            CreateCalculatedChannelResponse,
            timeout=timeout,
            deadline=deadline,
            metadata=metadata,
        )

    async def list_calculated_channels(
        self,
        message: "ListCalculatedChannelsRequest",
        *,
        timeout: "float | None" = None,
        deadline: "Deadline | None" = None,
        metadata: "MetadataLike | None" = None,
    ) -> "ListCalculatedChannelsResponse":
        """
        Retrieve the latest versions of calculated channels based on an optional filter.
        """

        return await self._unary_unary(
            "/sift.calculated_channels.v2.CalculatedChannelService/ListCalculatedChannels",
            message,
            ListCalculatedChannelsResponse,
            timeout=timeout,
            deadline=deadline,
            metadata=metadata,
        )

    async def update_calculated_channel(
        self,
        message: "UpdateCalculatedChannelRequest",
        *,
        timeout: "float | None" = None,
        deadline: "Deadline | None" = None,
        metadata: "MetadataLike | None" = None,
    ) -> "UpdateCalculatedChannelResponse":
        """
        Update and create a new version of a calculated channel.
        """

        return await self._unary_unary(
            "/sift.calculated_channels.v2.CalculatedChannelService/UpdateCalculatedChannel",
            message,
            UpdateCalculatedChannelResponse,
            timeout=timeout,
            deadline=deadline,
            metadata=metadata,
        )

    async def list_calculated_channel_versions(
        self,
        message: "ListCalculatedChannelVersionsRequest",
        *,
        timeout: "float | None" = None,
        deadline: "Deadline | None" = None,
        metadata: "MetadataLike | None" = None,
    ) -> "ListCalculatedChannelVersionsResponse":
        """
        List versions of a particular calculated channel with an optional filter.
        """

        return await self._unary_unary(
            "/sift.calculated_channels.v2.CalculatedChannelService/ListCalculatedChannelVersions",
            message,
            ListCalculatedChannelVersionsResponse,
            timeout=timeout,
            deadline=deadline,
            metadata=metadata,
        )

    async def resolve_calculated_channel(
        self,
        message: "ResolveCalculatedChannelRequest",
        *,
        timeout: "float | None" = None,
        deadline: "Deadline | None" = None,
        metadata: "MetadataLike | None" = None,
    ) -> "ResolveCalculatedChannelResponse":
        """
        Resolve a calculated channel into an expression with references.
        """

        return await self._unary_unary(
            "/sift.calculated_channels.v2.CalculatedChannelService/ResolveCalculatedChannel",
            message,
            ResolveCalculatedChannelResponse,
            timeout=timeout,
            deadline=deadline,
            metadata=metadata,
        )

    async def batch_resolve_calculated_channels(
        self,
        message: "BatchResolveCalculatedChannelsRequest",
        *,
        timeout: "float | None" = None,
        deadline: "Deadline | None" = None,
        metadata: "MetadataLike | None" = None,
    ) -> "BatchResolveCalculatedChannelsResponse":
        """
        Resolve a batch of calculated channels into expressions with references.
        """

        return await self._unary_unary(
            "/sift.calculated_channels.v2.CalculatedChannelService/BatchResolveCalculatedChannels",
            message,
            BatchResolveCalculatedChannelsResponse,
            timeout=timeout,
            deadline=deadline,
            metadata=metadata,
        )


from ....google import protobuf as ___google__protobuf__
from ...common.type import v1 as __common__type__v1__
from .. import v1 as _v1__


class CalculatedChannelServiceBase(ServiceBase):
    async def get_calculated_channel(
        self, message: "GetCalculatedChannelRequest"
    ) -> "GetCalculatedChannelResponse":
        """
        Retrieve the latest version of a calculated channel
        """

        raise grpclib.GRPCError(grpclib.const.Status.UNIMPLEMENTED)

    async def create_calculated_channel(
        self, message: "CreateCalculatedChannelRequest"
    ) -> "CreateCalculatedChannelResponse":
        """
        Create a calculated channel.
        """

        raise grpclib.GRPCError(grpclib.const.Status.UNIMPLEMENTED)

    async def list_calculated_channels(
        self, message: "ListCalculatedChannelsRequest"
    ) -> "ListCalculatedChannelsResponse":
        """
        Retrieve the latest versions of calculated channels based on an optional filter.
        """

        raise grpclib.GRPCError(grpclib.const.Status.UNIMPLEMENTED)

    async def update_calculated_channel(
        self, message: "UpdateCalculatedChannelRequest"
    ) -> "UpdateCalculatedChannelResponse":
        """
        Update and create a new version of a calculated channel.
        """

        raise grpclib.GRPCError(grpclib.const.Status.UNIMPLEMENTED)

    async def list_calculated_channel_versions(
        self, message: "ListCalculatedChannelVersionsRequest"
    ) -> "ListCalculatedChannelVersionsResponse":
        """
        List versions of a particular calculated channel with an optional filter.
        """

        raise grpclib.GRPCError(grpclib.const.Status.UNIMPLEMENTED)

    async def resolve_calculated_channel(
        self, message: "ResolveCalculatedChannelRequest"
    ) -> "ResolveCalculatedChannelResponse":
        """
        Resolve a calculated channel into an expression with references.
        """

        raise grpclib.GRPCError(grpclib.const.Status.UNIMPLEMENTED)

    async def batch_resolve_calculated_channels(
        self, message: "BatchResolveCalculatedChannelsRequest"
    ) -> "BatchResolveCalculatedChannelsResponse":
        """
        Resolve a batch of calculated channels into expressions with references.
        """

        raise grpclib.GRPCError(grpclib.const.Status.UNIMPLEMENTED)

    async def __rpc_get_calculated_channel(
        self,
        stream: "grpclib.server.Stream[GetCalculatedChannelRequest, GetCalculatedChannelResponse]",
    ) -> None:
        request = await stream.recv_message()
        response = await self.get_calculated_channel(request)
        await stream.send_message(response)

    async def __rpc_create_calculated_channel(
        self,
        stream: "grpclib.server.Stream[CreateCalculatedChannelRequest, CreateCalculatedChannelResponse]",
    ) -> None:
        request = await stream.recv_message()
        response = await self.create_calculated_channel(request)
        await stream.send_message(response)

    async def __rpc_list_calculated_channels(
        self,
        stream: "grpclib.server.Stream[ListCalculatedChannelsRequest, ListCalculatedChannelsResponse]",
    ) -> None:
        request = await stream.recv_message()
        response = await self.list_calculated_channels(request)
        await stream.send_message(response)

    async def __rpc_update_calculated_channel(
        self,
        stream: "grpclib.server.Stream[UpdateCalculatedChannelRequest, UpdateCalculatedChannelResponse]",
    ) -> None:
        request = await stream.recv_message()
        response = await self.update_calculated_channel(request)
        await stream.send_message(response)

    async def __rpc_list_calculated_channel_versions(
        self,
        stream: "grpclib.server.Stream[ListCalculatedChannelVersionsRequest, ListCalculatedChannelVersionsResponse]",
    ) -> None:
        request = await stream.recv_message()
        response = await self.list_calculated_channel_versions(request)
        await stream.send_message(response)

    async def __rpc_resolve_calculated_channel(
        self,
        stream: "grpclib.server.Stream[ResolveCalculatedChannelRequest, ResolveCalculatedChannelResponse]",
    ) -> None:
        request = await stream.recv_message()
        response = await self.resolve_calculated_channel(request)
        await stream.send_message(response)

    async def __rpc_batch_resolve_calculated_channels(
        self,
        stream: "grpclib.server.Stream[BatchResolveCalculatedChannelsRequest, BatchResolveCalculatedChannelsResponse]",
    ) -> None:
        request = await stream.recv_message()
        response = await self.batch_resolve_calculated_channels(request)
        await stream.send_message(response)

    def __mapping__(self) -> "dict[str, grpclib.const.Handler]":
        return {
            "/sift.calculated_channels.v2.CalculatedChannelService/GetCalculatedChannel": grpclib.const.Handler(
                self.__rpc_get_calculated_channel,
                grpclib.const.Cardinality.UNARY_UNARY,
                GetCalculatedChannelRequest,
                GetCalculatedChannelResponse,
            ),
            "/sift.calculated_channels.v2.CalculatedChannelService/CreateCalculatedChannel": grpclib.const.Handler(
                self.__rpc_create_calculated_channel,
                grpclib.const.Cardinality.UNARY_UNARY,
                CreateCalculatedChannelRequest,
                CreateCalculatedChannelResponse,
            ),
            "/sift.calculated_channels.v2.CalculatedChannelService/ListCalculatedChannels": grpclib.const.Handler(
                self.__rpc_list_calculated_channels,
                grpclib.const.Cardinality.UNARY_UNARY,
                ListCalculatedChannelsRequest,
                ListCalculatedChannelsResponse,
            ),
            "/sift.calculated_channels.v2.CalculatedChannelService/UpdateCalculatedChannel": grpclib.const.Handler(
                self.__rpc_update_calculated_channel,
                grpclib.const.Cardinality.UNARY_UNARY,
                UpdateCalculatedChannelRequest,
                UpdateCalculatedChannelResponse,
            ),
            "/sift.calculated_channels.v2.CalculatedChannelService/ListCalculatedChannelVersions": grpclib.const.Handler(
                self.__rpc_list_calculated_channel_versions,
                grpclib.const.Cardinality.UNARY_UNARY,
                ListCalculatedChannelVersionsRequest,
                ListCalculatedChannelVersionsResponse,
            ),
            "/sift.calculated_channels.v2.CalculatedChannelService/ResolveCalculatedChannel": grpclib.const.Handler(
                self.__rpc_resolve_calculated_channel,
                grpclib.const.Cardinality.UNARY_UNARY,
                ResolveCalculatedChannelRequest,
                ResolveCalculatedChannelResponse,
            ),
            "/sift.calculated_channels.v2.CalculatedChannelService/BatchResolveCalculatedChannels": grpclib.const.Handler(
                self.__rpc_batch_resolve_calculated_channels,
                grpclib.const.Cardinality.UNARY_UNARY,
                BatchResolveCalculatedChannelsRequest,
                BatchResolveCalculatedChannelsResponse,
            ),
        }
